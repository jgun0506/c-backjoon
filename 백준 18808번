#define _CRT_SECURE_NO_WARNINGS
#pragma comment(linker, "/STACK:28388608")   // 8MB 스택메모리늘려줌
#include <stdio.h>
#include <stdlib.h>    // srand, rand 함수가 선언된 헤더 파일
#include <string.h>
#include <stdbool.h>
#include <stddef.h>

/*
1.배열의 크기를 구하고싶어서 s[10][10]을 sizeof(s)로하면 8바이트임 s는 주소
>>sizeof((int)*맴버갯수) 가 안전함
2.memcpy,memset 제발 구별
*/
int n, m, k;
int note[50][50];
int r, c;
int s[10][10];//스티커

bool isin(int x,int y) {//s배열이 note 안에 들어가지면 return 1
    
    for (int i = 0; i < r; i++) {
        for (int j = 0; j < c; j++) {
            if (s[i][j] == 1 && note[y + i][x + j] == 1) {
                return 0;
            }
        }
    }
    for (int I = 0; I < r; I++) {
        for (int J = 0; J < c; J++) {
            if (s[I][J] == 1) {
                note[y + I][x + J] = 1;
            }
        }
    }
    return 1;
}
void turn() {
    int tmp[10][10];
    
    memcpy(tmp, s, sizeof(int) * 100);

    for (int i = 0; i < r; i++) {
        for (int j = 0; j < c; j++) {
            s[j][r - 1 - i] = tmp[i][j];
        }
    }
    int temp = r;
    r = c;
    c = temp;
   
}

int main()
{
    scanf("%d %d %d", &n, &m, &k);
        
    while (k--) {
        scanf("%d %d", &r, &c);
        

        for (int i = 0; i < r; i++) {
            for (int j = 0; j < c; j++) {
                scanf("%d", &s[i][j]);
            }
        }
        
        bool T = false;
        int swim = 0;

        while (!T && swim < 4) {
            for (int i = 0; i <= n - r; i++) {
                for (int j = 0; j <= m - c; j++) {
                    if (isin(j, i)) {
                        T = true;
                        break;
                    }
                }
                if (T == true)
                    break;
            }
            if (T == false) {
                turn();//90도 회전
                swim++;
            }
        }
    }
    int count = 0;

    for (int i = 0; i < n; i++) {
        for (int j = 0; j < m; j++) {
            if (note[i][j] == 1)
                count++;
        }
    }
    printf("%d", count);

    return 0;
}
