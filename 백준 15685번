#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>
#include <stdlib.h>    // srand, rand 함수가 선언된 헤더 파일
#include <string.h>
#include <stdbool.h>
#include <stddef.h>
#include <math.h>

int board[102][102];
int dx[4] = { 1,0,-1,0 };
int dy[4] = { 0,-1,0,1 };

int square() {//정사각형 갯수 리턴해주는 함수
    int count = 0;
    for (int i = 0; i < 100; i++) {
        for (int j = 0; j < 100; j++) {
            if (board[i][j] == 1 && board[i + 1][j] == 1 && board[i][j + 1] == 1 && board[i + 1][j + 1] == 1)
                count++;
        }
    }
    return count;
}

void curb(int x, int y, int d, int g) {
    int tail = 0;
    int dot_x[10000];//좌표 누적하는곳, 끝점:(dot_x[tail-1],dot_y[tail-1])
    int dot_y[10000];
    board[y][x] = 1;
    board[y + dy[d]][x + dx[d]] = 1;
    
    dot_x[tail] = x;
    dot_y[tail] = y;
    tail++;
    dot_x[tail] = x + dx[d];
    dot_y[tail] = y + dy[d];
    tail++;

    while (g--) {
        int X, Y, a, b;
        int temp = tail;
        for (int i = tail - 1; i >= 0; i--) {//추가된 세대의 좌표를 스택에 넣기
            X = dot_x[tail - 1];//i=tail-1 로 시작하는 이유는 가장 처음추가 됫던 좌표에서 끝점이 복사되기때문
            Y = dot_y[tail - 1];
            a = dot_x[i];
            b = dot_y[i];
            board[Y - X + a][Y + X - b] = 1;//추가되는 세대 입력
            dot_x[temp] = Y + X - b;//추가되는 세대 점의 좌표 누적
            dot_y[temp] = Y - X + a;
            temp++;
        }
        tail = temp;
    }
}
int main(){
    int n;
    scanf("%d", &n);
    while (n--) {
        int x, y, d, g;
        scanf("%d %d %d %d", &x, &y, &d, &g);
        curb(x, y, d, g);
    }
    int total = square();
    printf("%d", total);

    return 0;
}
